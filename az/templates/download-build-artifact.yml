parameters:
  - name: pipelineAlias
    type: string

steps:
  # stops automatic download of artifact
  - download: none

  - task: DownloadPipelineArtifact@2
    inputs:
      source: 'specific'
      project: '$(resources.pipeline.${{ parameters.pipelineAlias }}.projectID)'
      definition: '$(resources.pipeline.${{ parameters.pipelineAlias }}.pipelineID)'
      preferTriggeringPipeline: true
      buildVersionToDownload: 'latestFromBranch'
      branchName: '$(Build.SourceBranch)'
      path: $(Pipeline.Workspace)/$(SERVICE_NAME)